(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e2637df"],{"416c":function(t,n,e){"use strict";e("fe46")},"642a":function(t,n,e){"use strict";e("d361")},d361:function(t,n,e){},ec7b:function(t,n){t.exports="data:image/png;base64,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"},faa3:function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"page-exchange"},[e("exchange",{attrs:{isPc:t.isPc}})],1)},c=[],s=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{class:["exchange",t.isPc?"block_pc":null]},[a("div",{staticClass:"wrap"},[a("p",{staticClass:"title"},[t._v(t._s(t.$t("exchange")))]),a("p",{staticClass:"info"},[t._v(t._s(t.$t("exchangeText1")))]),a("div",{staticClass:"coin_change"},[a("div",{staticClass:"change_box"},[a("van-row",{staticClass:"box_title",attrs:{type:"flex",justify:"space-between"}},[a("p",[t._v("From")]),a("p",{staticClass:"balance"},[t._v("Balance: "+t._s(t.coinArr[0].balance))])]),a("van-row",{staticClass:"coin-icon",attrs:{type:"flex",justify:"end"}},[a("img",{staticClass:"coin_icon",attrs:{src:t.coinArr[0].img,alt:""}})]),a("van-row",{attrs:{type:"flex",justify:"space-between"}},[a("van-col",{attrs:{span:"12"}},[a("van-field",{staticClass:"inp",attrs:{type:"number"},on:{input:function(n){return t.changeCoinNum(0)}},model:{value:t.coinArr[0].num,callback:function(n){t.$set(t.coinArr[0],"num",n)},expression:"coinArr[0].num"}})],1),a("van-col",{staticClass:"box-bottom",attrs:{span:"12"}},[a("p",{staticClass:"max",on:{click:t.maxFn}},[t._v("MAX")]),a("p",{staticClass:"coin_text"},[t._v(t._s(t.coinArr[0].text))])])],1)],1),a("img",{staticClass:"change_icon",attrs:{src:e("ec7b"),alt:""},on:{click:t.changeCoin}}),a("div",{staticClass:"change_box"},[a("van-row",{staticClass:"box_title",attrs:{type:"flex",justify:"space-between"}},[a("p",[t._v("To")]),a("p",{staticClass:"balance"},[t._v("Balance: "+t._s(t.coinArr[1].balance))])]),a("van-row",{staticClass:"coin-icon",attrs:{type:"flex",justify:"end"}},[a("img",{staticClass:"coin_icon",attrs:{src:t.coinArr[1].img,alt:""}})]),a("van-row",{attrs:{type:"flex",justify:"space-between"}},[a("van-col",{attrs:{span:"12"}},[a("van-field",{staticClass:"inp",attrs:{type:"number"},on:{input:function(n){return t.changeCoinNum(1)}},model:{value:t.coinArr[1].num,callback:function(n){t.$set(t.coinArr[1],"num",n)},expression:"coinArr[1].num"}})],1),a("van-col",{staticClass:"box-bottom",attrs:{span:"12"}},[a("p",{staticClass:"coin_text"},[t._v(t._s(t.coinArr[1].text))])])],1)],1)]),t.isOne?a("div",{staticClass:"exchange_btn_one",on:{click:t.exchange}},[t._v(t._s(t.$t("echangeBtnText2")))]):a("van-row",{attrs:{type:"flex",justify:"space-between"}},[a("div",{staticClass:"exchange_btn_two",on:{click:t.approve}},[t._v(t._s(t.$t("echangeBtnText1")))]),a("div",{staticClass:"exchange_btn_two",on:{click:t.exchange}},[t._v(t._s(t.$t("echangeBtnText2")))])])],1)])},i=[],o=e("1da1"),r=(e("96cf"),e("a9e3"),e("7909")),l=e("c5e2"),u=e("4efc"),d={props:{isPc:{type:Boolean,default:!1}},data:function(){return{defaultAccount:"Disconnect",web3:null,VALVE:"0.0",BALANCE:"0",BONUS:"0",TOTAL:1e15,MARKETCAP:0,isOne:!1,coinArr:[{img:"/images/usdt.png",text:"USDT",num:0,balance:0},{img:"/images/oa.png",text:"OA",num:0,balance:0}],blackAddress:"0x0000000000000000000000000000000000000000",inviteCode:this.$route.query.inviteCode,usdtInfo:{address:"0x55d398326f99059fF775485246999027B3197955",decimal:18,contract:null,allowance:0},oaInfo:{address:"0x5b6e3447408C65D5118BFb86C75a49313a77e125",decimal:18,contract:null,allowance:0}}},methods:{maxFn:function(){this.coinArr[0].num=this.coinArr[0].balance,this.changeCoinNum(0)},formatNum:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return r["d"](r["c"](Number(t),n),{notation:"fixed"})},desensitization:function(t,n,e){var a=t.substr(0,n),c=t.substr(e),s="***",i=a+s+c;return i},exchange:function(){this.$toast.loading({duration:1e5,message:"Submitting...",forbidClick:!0,loadingType:"spinner"});var t=this;if(t.coinArr[0].num<=0)this.$toast.fail("Transaction amount must be greater than 0");else if(Number(t.coinArr[0].num)>Number(t.coinArr[0].balance))this.$toast.fail("Insufficient balance");else if("USDT"==this.coinArr[0].text){var n=t.web3.utils.toWei(t.coinArr[0].num,"ether");t.oaInfo.contract.methods.buyToken(n,t.inviteCode).send({from:t.web3.eth.defaultAccount}).then((function(){t.$toast.clear(),t.$toast.success("Successful transaction"),t.getInit(),t.getBalance()}))}else{var e=t.web3.utils.toWei(t.coinArr[0].num,"ether");t.oaInfo.contract.methods.sellToken(e).send({from:t.web3.eth.defaultAccount}).then((function(n){t.$toast.clear(),console.log("that.oaInfo.contract.methods.sellToken",n),t.$toast.success("Successful transaction"),t.getInit(),t.getBalance()}))}},approve:function(){this.$toast.loading({duration:1e5,message:"Submitting...",forbidClick:!0,loadingType:"spinner"});var t=this,n="10000000",e=t.web3.utils.toWei(n,"ether");t.usdtInfo.contract.methods.approve(t.oaInfo.address,e).send({from:t.web3.eth.defaultAccount}).then((function(){t.usdtInfo.allowance=n,t.$toast.clear(),t.$toast.success("Successful transaction"),t.changeIsOne()}))},getAllowance:function(){var t=this;t.usdtInfo.contract.methods.allowance(t.web3.eth.defaultAccount,this.oaInfo.address).call().then((function(n){t.usdtInfo.allowance=t.web3.utils.fromWei(n,"ether"),t.changeIsOne()}))},getBalance:function(){var t,n,e=this;e.oaInfo.contract.methods.balanceOf(e.web3.eth.defaultAccount).call().then((function(n){t=e.formatNum(e.web3.utils.fromWei(n,"ether"),4),"OA"===e.coinArr[0].text?e.coinArr[0].balance=t:e.coinArr[1].balance=t})),e.usdtInfo.contract.methods.balanceOf(e.web3.eth.defaultAccount).call().then((function(t){n=e.formatNum(e.web3.utils.fromWei(t,"ether"),4),"OA"===e.coinArr[0].text?e.coinArr[1].balance=n:e.coinArr[0].balance=n,e.BALANCE=n})),"OA"==e.coinArr[0].text?(e.coinArr[0].balance=t,e.coinArr[1].balance=n):(e.coinArr[1].balance=t,e.coinArr[0].balance=n)},changeIsOne:function(){var t=this;"USDT"===this.coinArr[0].text?t.usdtInfo.allowance>0?t.isOne=!0:t.isOne=!1:t.isOne=!0},changeCoin:function(){this.coinArr.reverse(),this.changeIsOne(),this.changeCoinNum(0)},changeCoinNum:function(t){var n=this,e=r["a"](n.VALVE),a=this.coinArr[t].text;if(this.coinArr[t].num&&!(this.coinArr[t].num<0)){var c=r["a"](this.coinArr[t].num),s=0;0===t?(s="USDT"===a?r["b"](c,e):r["e"](c,e),this.coinArr[1].num=n.formatNum(s,4)):(s="USDT"===a?r["b"](c,e):r["e"](c,e),this.coinArr[0].num=n.formatNum(s,4))}},getInit:function(){var t=this;this.oaInfo.contract.methods.getTokenData(this.web3.eth.defaultAccount).call().then((function(n){t.VALVE=t.formatNum(t.web3.utils.fromWei(n[0],"ether"),10),t.BALANCE=t.formatNum(t.web3.utils.fromWei(n[5],"ether"),4),t.BONUS=t.formatNum(t.web3.utils.fromWei(n[8],"ether"),4),t.MARKETCAP=t.formatNum(r["e"](r["a"](t.VALVE),r["a"](t.TOTAL))),t.changeCoinNum(0)}))},checkInviteCode:function(){var t=localStorage.getItem("inviteCode");t&&this.web3.utils.isAddress(t)?this.inviteCode=t:this.inviteCode=this.blackAddress},initUsdtContract:function(){var t=this;t.usdtInfo.contract=new t.web3.eth.Contract(l.abi,t.usdtInfo.address)},initTtasContract:function(){var t=this;t.oaInfo.contract=new t.web3.eth.Contract(u.abi,t.oaInfo.address)},initWeb3:function(){this.web3=this.$web3},getWalletDefaultAccount:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var e,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e=t,a=null,!e.web3){n.next=5;break}return n.next=5,e.web3.eth.getAccounts((function(t,n){a=n[0]}));case 5:return n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})))()}},mounted:function(){var t=this;this.$toast.loading({duration:5e3,message:"Launching...",forbidClick:!0,loadingType:"spinner"}),this.MARKETCAP=this.formatNum(r["e"](r["a"](this.VALVE),r["a"](this.TOTAL))),this.initWeb3(),this.checkInviteCode(),this.changeIsOne(),this.getWalletDefaultAccount().then((function(n){n&&(t.web3.eth.defaultAccount=n,t.inviteUrl+="?inviteCode="+t.web3.eth.defaultAccount,t.defaultAccount=t.desensitization(n,4,-4),t.initUsdtContract(),t.initTtasContract(),t.getInit(),t.getAllowance(),t.getBalance(),t.$toast.clear())}))}},h=d,f=(e("642a"),e("2877")),A=Object(f["a"])(h,s,i,!1,null,"6df593c0",null),m=A.exports,g={data:function(){return{}},components:{exchange:m},computed:{isPc:function(){var t=navigator.userAgent.toLowerCase();if(/ipad|iphone|midp|rv:1.2.3.4|ucweb|android|windows ce|windows mobile/.test(t))return!1;var n=document.getElementsByTagName("html");return n[0].style.fontSize="37.5px",!0}},methods:{},mounted:function(){}},b=g,v=(e("416c"),Object(f["a"])(b,a,c,!1,null,"940acd12",null));n["default"]=v.exports},fe46:function(t,n,e){}}]);